<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Game - Shattered Timeline</title>
  <link rel="stylesheet" href="./styles/main.css" />
</head>

<body class="game-page">
  <header class="game-header">
    <span id="welcome-msg">Welcome, username</span>
    <button onclick="location.href='landing.html'">Logout</button>
  </header>
  <main>
    <div id="status">Loading game...</div>
    <canvas id="gameCanvas"></canvas>
  </main>

  <script type="module">
    const status = document.getElementById('status');

    try {
      status.textContent = 'Loading modules...';

      // Import main game module
      const { main } = await import('../main.js');

      status.textContent = 'Starting game...';
      main();
      status.style.display = 'none'; // Hide status once game is running

    } catch (error) {
      status.textContent = 'Error loading game: ' + error.message;
      console.error('Game initialization error:', error);
    }
  </script>
</body>

</html>